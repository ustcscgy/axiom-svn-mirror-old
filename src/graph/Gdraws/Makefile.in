IN=	$(axiom_src_srcdir)/graph/Gdraws
MIDINT=	${INT}/graph/Gdraws
MIDOBJ=	${OBJ}/${SYS}/graph/Gdraws
OUT=	${MNT}/${SYS}/lib
PS=	${MNT}/${SYS}/lib/graph
DOC=    ${MNT}/${SYS}/doc/src/graph

# local include files shared by graphics
LINC=	$(axiom_src_srcdir)/graph/include

# global include files shared by everyone
GINC=	$(axiom_src_srcdir)/include

# include files in Hyperdoc
HINC=	$(axiom_src_srcdir)/hyper

# bitmaps for cursors
BIT=	$(axiom_src_srcdir)/graph/include/bitmaps

# a .h file stuck in a really wierd place
DOTH=	$(axiom_src_srcdir)/graph/viewman

# a .c file in the library subdirectory
DOTC=	$(axiom_src_srcdir)/lib

pamphlets = Gfun.c.pamphlet psFiles.pamphlet Makefile.pamphlet


subdir = src/graph/Gdraws/

pamphlets = Makefile.pamphlet Gfun.c.pamphlet psFiles.pamphlet

CFLAGS	    = ${CCF} -I${LINC} -I${GINC} -I$(srcdir) -I${HINC}

HEADERS = ${IN}/Gdraws0.h ${LINC}/G.h     ${LINC}/Gfun.H1    \
          ${GINC}/hash.h  ${GINC}/hash.H1 ${GINC}/useproto.h

PSFiles= ${PS}/colorpoly.ps ${PS}/colorwol.ps  ${PS}/draw.ps      \
         ${PS}/drawIstr.ps  ${PS}/drawarc.ps   ${PS}/drawcolor.ps \
         ${PS}/drawline.ps  ${PS}/drawlines.ps ${PS}/drawpoint.ps \
         ${PS}/drawrect.ps  ${PS}/drawstr.ps   ${PS}/drwfilled.ps \
         ${PS}/end.ps       ${PS}/fillarc.ps   ${PS}/fillpoly.ps  \
         ${PS}/fillwol.ps   ${PS}/header.ps    ${PS}/setup.ps

all: $(builddir)/Gfun.o ${PSFiles}
	@ echo 21 finished making $(axiom_src_srcdir)/Gdraws

$(builddir)/Gfun.c: $(srcdir)/Gfun.c.pamphlet
	$(axiom_build_document) --tangle --output=$@ $<

$(builddir)/Gfun.o: ${HEADERS}

$(builddir)/Gfun.o: $(builddir)/Gfun.c 
	${CC} -c ${CFLAGS} -o $@ $<


${PS}/colorpoly.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=colorpoly --output=$@ $<

${PS}/colorwol.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=colorwol --output=$@ $<

${PS}/draw.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=draw --output=$@ $<

${PS}/drawIstr.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawIstr --output=$@ $<

${PS}/drawarc.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawarc --output=$@ $<

${PS}/drawcolor.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawcolor --output=$@ $<

${PS}/drawline.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawline --output=$@ $<

${PS}/drawlines.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawlines --output=$@ $<

${PS}/drawpoint.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawpoint --output=$@ $<

${PS}/drawrect.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawrect --output=$@ $<

${PS}/drawstr.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drawstr --output=$@ $<

${PS}/drwfilled.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=drwfilled --output=$@ $<

${PS}/end.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=end --output=$@ $<

${PS}/fillarc.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=fillarc --output=$@ $<

${PS}/fillpoly.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=fillpoly --output=$@ $<

${PS}/fillwol.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=fillwol --output=$@ $<

${PS}/header.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=header --output=$@ $<

${PS}/setup.ps: $(srcdir)/psFiles.pamphlet
	$(axiom_build_document) --tangle=setup --output=$@ $<


mostlyclean-local: ;

clean-local: 
	-rm -f $(builddir)/Gfun.o $(PSFiles)

distclean-local: ;

