DIRS=viewmandir Gdrawsdir view2Ddir view3Ddir viewAlonedir

pamphlets = fileformats.pamphlet Makefile.pamphlet

IN=$(axiom_src_srcdir)/graph
MID=${INT}/graph/parabola
DOC=${MNT}/${SYS}/doc/src/graph
DOCFILES=${DOC}/fileformats.dvi


subdir = src/graph/

all: ${DIRS} $(MID)/data $(MID)/graph0
	@ echo 24 finished ${IN}

viewmandir: $(builddir)/viewman/Makefile
	@ echo 1 making $(axiom_src_srcdir)/graph/viewman
	@ mkdir -p ${INT}/graph/viewman
	@ mkdir -p ${OBJ}/${SYS}/graph/viewman
	@ mkdir -p ${OBJ}/${SYS}/lib
	@ mkdir -p ${MNT}/${SYS}/lib
	@ mkdir -p ${MNT}/${SYS}/doc/src/graph
	@(cd viewman ; ${ENV} ${MAKE} )

Gdrawsdir: $(builddir)/Gdraws/Makefile
	@echo 5 making $(axiom_src_srcdir)/graph/Gdraws
	@mkdir -p ${INT}/graph/Gdraws
	@mkdir -p ${OBJ}/${SYS}/graph/Gdraws
	@mkdir -p ${MNT}/${SYS}/lib
	@mkdir -p ${MNT}/${SYS}/lib/graph
	@mkdir -p ${MNT}/${SYS}/doc/src/graph
	@(cd Gdraws ; ${ENV} ${MAKE} )

view3Ddir: $(builddir)/view3D/Makefile
	@echo 9 making $(axiom_src_srcdir)/graph/view3D
	@mkdir -p ${INT}/graph/view3D
	@mkdir -p ${OBJ}/${SYS}/graph/view3D
	@mkdir -p ${OBJ}/${SYS}/lib
	@mkdir -p ${OBJ}/${SYS}/graph/Gdraws
	@mkdir -p ${MNT}/${SYS}/lib
	@mkdir -p ${MNT}/${SYS}/doc/src/graph
	@(cd view3D ; ${ENV} ${MAKE} )

view2Ddir: $(builddir)/view2D/Makefile
	@echo 13 making $(axiom_src_srcdir)/graph/view2D
	@mkdir -p ${INT}/graph/view2D
	@mkdir -p ${OBJ}/${SYS}/graph/view2D
	@mkdir -p ${OBJ}/${SYS}/lib
	@mkdir -p ${MNT}/${SYS}/lib
	@mkdir -p ${MNT}/${SYS}/doc/src/graph
	@(cd view2D ; ${ENV} ${MAKE} )

viewAlonedir: $(builddir)/viewAlone/Makefile
	@echo 17 making $(axiom_src_srcdir)/graph/viewAlone
	@mkdir -p ${INT}/graph/viewAlone
	@mkdir -p ${OBJ}/${SYS}/graph/viewAlone
	@mkdir -p ${MNT}/${SYS}/bin
	@mkdir -p ${MNT}/${SYS}/doc/src/graph
	@(cd viewAlone ; ${ENV} ${MAKE} )



$(MID)/data $(MID)/graph0: $(srcdir)/fileformats.pamphlet
	$(axiom_build_document) --tangle=`basename $@` --output=$@ $<


mostlyclean-local:

clean-local: mostlyclean-local
	-rm -f $(MID)/data $(MID)/graph0

distclean-local: clean-local

