\documentclass{article}
\usepackage{axiom}
\begin{document}
\title{\$SPAD/src/input knot2.input}
\author{Timothy Daly}
\maketitle
\begin{abstract}
\end{abstract}
\eject
\tableofcontents
\eject
\section{License}
<<license>>=
--Copyright The Numerical Algorithms Group Limited 1991.
@
<<*>>=
)spool knot2.output
)set message test on
)set message auto off
)clear all
 
@
This is the color function, nothing elaborate for now
<<*>>=
--S 1 of 8
f(x:SF):SF == x
--R 
--R   Function declaration f : DoubleFloat -> DoubleFloat has been added 
--R      to workspace.
--R                                                                   Type: Void
--E 1

@
Creation of the knot.
Only p/q is really used, but p and q correspond to       
the factors in the notes deriving these knotty things    
see the notes for detail...too involved to explain here  
<<*>>=
--S 2 of 8
[p,q] := [3,5]
--R 
--R
--R   (2)  [3,5]
--R                                                   Type: List PositiveInteger
--E 2

--S 3 of 8
PQ    := p/q
--R 
--R
--R        3
--R   (3)  -
--R        5
--R                                                       Type: Fraction Integer
--E 3

--S 4 of 8
l := lcm(p, q) quo p
--R 
--R
--R   (4)  5
--R                                                        Type: PositiveInteger
--E 4

--S 5 of 8
maxRange := (odd? l => l * %pi::SF; 2 * l * %pi::SF)  
--R 
--R
--R   (5)  15.707963267948966
--R                                                            Type: DoubleFloat
--E 5

--S 6 of 8
theRange := 0..maxRange
--R 
--R
--R   (6)  0...15.707963267948966
--R                                                    Type: Segment DoubleFloat
--E 6

@
Create the knot
<<*>>=
--S 7 of 8
knot:TUBE := tubePlot(sin t * cos(PQ*t),cos t * cos(PQ*t),cos t * sin(PQ*t),
                      f, theRange, 0.1::SF, 6, "open" )
--R 
--R 
--RDaly Bug
--R   Although TubePlot is the name of a constructor, a full type must be 
--R      specified in the context you have used it. Issue )show TubePlot 
--R      for more information.
--E 7

@
Make a viewport out of it
<<*>>=
--S 8 of 8
makeViewport3D(knot, concat ["knot",p::String,q::String])$VIEW3D
--R 
--R   There are 2 exposed and 0 unexposed library operations named 
--R      makeViewport3D having 2 argument(s) but none was determined to be
--R      applicable. Use HyperDoc Browse, or issue
--R                         )display op makeViewport3D
--R      to learn more about the available operations. Perhaps 
--R      package-calling the operation or using coercions on the arguments
--R      will allow you to apply the operation.
--R 
--RDaly Bug
--R   Cannot find a definition or applicable library operation named 
--R      makeViewport3D with argument type(s) 
--R                                   Symbol
--R                                   String
--R      
--R      Perhaps you should use "@" to indicate the required return type, 
--R      or "$" to specify which version of the function you need.
--E 8
)spool 
)lisp (bye)
 
@
\eject
\begin{thebibliography}{99}
\bibitem{1} nothing
\end{thebibliography}
\end{document}

 
